{"name":"ufw","desc":"`ufw` 是一个简单的防火墙工具，用于在 Linux 系统上设置和管理防火墙规则。它可以轻松阻止不必要的入站和出站流量，从而提高系统的安全性。","usages":[{"name":"启用防火墙","form":{"-4":{"type":"check","name":"启用 IPv4 支持","optionName":"-4"},"-6":{"type":"check","name":"启用 IPv6 支持","optionName":"-6"},"-c, --check-requirements":{"type":"check","name":"检查 ufw 的所有依赖项是否都安装在了系统中","optionName":"-c, --check-requirements"},"-v":{"type":"check","name":"显示版本信息","optionName":"-v"}},"optionsPartFilter":"(cmd, values) => 'enable ' + cmd"},{"name":"禁用防火墙","form":{"-4":{"type":"check","name":"启用 IPv4 支持","optionName":"-4"},"-6":{"type":"check","name":"启用 IPv6 支持","optionName":"-6"},"-c, --check-requirements":{"type":"check","name":"检查 ufw 的所有依赖项是否都安装在了系统中","optionName":"-c, --check-requirements"},"-v":{"type":"check","name":"显示版本信息","optionName":"-v"}},"optionsPartFilter":"(cmd, values) => 'disable ' + cmd"},{"name":"允许某个端口或应用程序通过防火墙","form":{"":{"name":"端口/协议，或应用程序","required":true,"type":"string"},"-4":{"type":"check","name":"启用 IPv4 支持","optionName":"-4"},"-6":{"type":"check","name":"启用 IPv6 支持","optionName":"-6"},"-c, --check-requirements":{"type":"check","name":"检查 ufw 的所有依赖项是否都安装在了系统中","optionName":"-c, --check-requirements"},"-v":{"type":"check","name":"显示版本信息","optionName":"-v"}},"optionsPartFilter":"(cmd, values) => 'allow ' + cmd"},{"name":"拒绝某个端口或应用程序通过防火墙","form":{"":{"name":"端口/协议，或应用程序","required":true,"type":"string"},"-4":{"type":"check","name":"启用 IPv4 支持","optionName":"-4"},"-6":{"type":"check","name":"启用 IPv6 支持","optionName":"-6"},"-c, --check-requirements":{"type":"check","name":"检查 ufw 的所有依赖项是否都安装在了系统中","optionName":"-c, --check-requirements"},"-v":{"type":"check","name":"显示版本信息","optionName":"-v"}},"optionsPartFilter":"(cmd, values) => 'deny ' + cmd"},{"name":"限制某个端口或应用程序的流量","form":{"":{"name":"端口/协议，或应用程序","required":true,"type":"string"},"-4":{"type":"check","name":"启用 IPv4 支持","optionName":"-4"},"-6":{"type":"check","name":"启用 IPv6 支持","optionName":"-6"},"-c, --check-requirements":{"type":"check","name":"检查 ufw 的所有依赖项是否都安装在了系统中","optionName":"-c, --check-requirements"},"-v":{"type":"check","name":"显示版本信息","optionName":"-v"}},"optionsPartFilter":"(cmd, values) => 'limit ' + cmd"},{"name":"显示防火墙规则","form":{"-4":{"type":"check","name":"启用 IPv4 支持","optionName":"-4"},"-6":{"type":"check","name":"启用 IPv6 支持","optionName":"-6"},"-c, --check-requirements":{"type":"check","name":"检查 ufw 的所有依赖项是否都安装在了系统中","optionName":"-c, --check-requirements"},"-v":{"type":"check","name":"显示版本信息","optionName":"-v"}},"optionsPartFilter":"(cmd, values) => 'show ' + cmd"},{"name":"显示防火墙状态","form":{"-4":{"type":"check","name":"启用 IPv4 支持","optionName":"-4"},"-6":{"type":"check","name":"启用 IPv6 支持","optionName":"-6"},"-c, --check-requirements":{"type":"check","name":"检查 ufw 的所有依赖项是否都安装在了系统中","optionName":"-c, --check-requirements"},"-v":{"type":"check","name":"显示版本信息","optionName":"-v"}},"optionsPartFilter":"(cmd, values) => 'status ' + cmd"},{"name":"重新加载规则","form":{"-4":{"type":"check","name":"启用 IPv4 支持","optionName":"-4"},"-6":{"type":"check","name":"启用 IPv6 支持","optionName":"-6"},"-c, --check-requirements":{"type":"check","name":"检查 ufw 的所有依赖项是否都安装在了系统中","optionName":"-c, --check-requirements"},"-v":{"type":"check","name":"显示版本信息","optionName":"-v"}},"optionsPartFilter":"(cmd, values) => 'reload ' + cmd"},{"name":"重置防火墙规则","form":{},"optionsPartFilter":"(cmd, values) => 'reset ' + cmd"},{"name":"启用/禁用日志记录","form":{"enableOrDisable":{"name":"启用/禁用","required":true,"type":"radios","options":[{"value":"on","name":"启用"},{"value":"off","name":"禁用"}]}},"optionsPartFilter":"(cmd, values) => `logging ${values.enableOrDisable}` + cmd"},{"name":"调整日志级别","form":{"level":{"name":"日志级别","required":true,"type":"select","options":[{"value":"low","name":"低"},{"value":"medium","name":"中"},{"value":"high","name":"高"}]}},"optionsPartFilter":"(cmd, values) => `logging level ${values.level}` + cmd"}],"content":"<h2 id=\"例子\">例子</h2>\n<ul>\n<li>启用防火墙：<code>sudo ufw enable</code></li>\n<li>禁用防火墙：<code>sudo ufw disable</code></li>\n<li>允许某个端口通过防火墙：<code>sudo ufw allow &lt;port&gt;/&lt;protocol&gt;</code></li>\n<li>拒绝某个端口通过防火墙：<code>sudo ufw deny &lt;port&gt;/&lt;protocol&gt;</code></li>\n<li>允许某个应用程序通过防火墙：<code>sudo ufw allow &lt;app_name&gt;</code></li>\n<li>拒绝某个应用程序通过防火墙：<code>sudo ufw deny &lt;app_name&gt;</code></li>\n<li>显示防火墙规则：<code>sudo ufw show</code></li>\n<li>显示防火墙状态：<code>sudo ufw status</code></li>\n<li>限制某个端口的流量：<code>sudo ufw limit &lt;port&gt;/&lt;protocol&gt;</code></li>\n<li>限制TCP端口22（SSH）的连接速率为每秒最多3个连接请求：<code>sudo ufw limit 22/tcp</code></li>\n<li>将防火墙规则重置为默认状态，从而移除所有已添加的自定义规则，包括限制、允许和拒绝规则: <code>sudo ufw reset</code> 需要注意的是，执行 <strong><code>ufw reset</code></strong> 是一个潜在的风险操作，因为它会清除你可能已经配置的所有规则。在执行此命令之前，请确保你了解自己的当前规则设置，并且备份任何重要的规则，以防需要重新添加它们。</li>\n</ul>\n<h3 id=\"添加规则\">添加规则</h3>\n<p><code>add</code> 命令用于向防火墙规则列表中添加自定义规则。<code>ufw add</code> 命令的一般格式：<code>sudo ufw add [rule_definition]</code>。其中 [rule_definition] 是你要添加的规则定义，包括规则的具体设置，如端口、协议、源地址、目标地址等。例子：</p>\n<ul>\n<li>允许特定端口的流量：<code>sudo ufw add allow 22/tcp</code></li>\n<li>拒绝特定端口的流量：<code>sudo ufw add deny 80/tcp</code></li>\n<li>允许来自 IP 地址为 192.168.1.100 的流量：<code>sudo ufw add allow 10000:20000/udp</code></li>\n</ul>\n<p>请注意以下几点：</p>\n<p><code>ufw</code> 规则会按照添加的顺序逐一应用。当流量到达系统时，ufw 会按照规则列表的顺序逐个匹配规则。一旦匹配到一个规则，后续的规则将不再被考虑。\n规则的添加是持久的，这意味着当防火墙服务重新启动时，规则会被保留。\n在添加规则之前，请确保你了解规则的设置，以及它们如何影响你的网络流量。添加不正确的规则可能会导致网络中断或安全漏洞。\n可以使用 <code>ufw status</code> 命令来查看当前的规则列表和防火墙状态。\n在配置 ufw 规则时，建议先进行测试，确保规则按照预期工作，然后再将其应用到生产系统中。</p>\n<h3 id=\"插入规则\">插入规则</h3>\n<p><code>insert</code> 命令用于插入自定义防火墙规则到规则列表的特定位置。与 <code>add</code> 命令不同，<code>insert</code> 允许你将规则插入到列表的指定位置，而不仅仅是添加到列表的末尾。这对于在特定位置插入规则以满足特定需求非常有用。</p>\n<pre><code class=\"language-shell\">sudo ufw insert [rule_number] &lt;rule_definition&gt;\n</code></pre>\n<p><code>rule_number</code> 是规则的编号，表示你希望在规则列表中插入的位置。这个编号应该是当前规则列表中已有规则的编号。如果你不指定编号，规则将被插入到列表的末尾。\n<rule_definition> 是你要插入的规则定义。这可以是完整的规则语法，包括端口、协议、源地址、目标地址等。\n以下是一个示例，说明如何使用 <code>ufw insert</code> 命令：</p>\n<pre><code class=\"language-shell\">sudo ufw insert 3 allow 8080/tcp\n</code></pre>\n<p>在这个示例中，命令会将一个允许 TCP 8080 端口流量的规则插入到当前规则列表的第 3 个位置。</p>\n<p>要注意以下几点：</p>\n<p>规则编号是从 1 开始的，表示在列表中的位置。\n插入规则可能会导致现有规则的编号发生变化。插入新规则后，之后的规则会被重新编号以保持顺序。\n如果你不指定规则编号，规则将被插入到列表的末尾。\n在使用 <code>ufw insert</code> 命令之前，建议你了解当前规则列表的情况，并确定要插入规则的确切位置。这可以确保你的规则按预期工作并不会影响其他规则的顺序。</p>\n<h3 id=\"删除规则\">删除规则</h3>\n<p><code>delete</code> 命令用于从防火墙规则列表中删除指定的自定义规则。<code>ufw delete</code> 命令的一般格式：<code>sudo ufw delete [rule_number]</code>。其中 <code>rule_number</code> 是要删除的规则在列表中的编号。这个编号对应于规则在规则列表中的位置。例子：</p>\n<ul>\n<li>通过规则编号删除规则：<code>sudo ufw delete 3</code></li>\n<li>删除最后一条规则：<code>sudo ufw delete last</code></li>\n<li>删除所有规则：<code>sudo ufw delete all</code> 这将删除规则列表中的所有自定义规则，恢复防火墙到默认状态。</li>\n</ul>\n<p>请注意以下几点：</p>\n<p>删除规则是一个永久性操作，一旦删除，规则将无法恢复。在执行删除操作之前，请确认你要删除的规则以及它们的影响。\n规则的编号是从 1 开始的，表示规则在列表中的位置。\n删除规则可能会影响防火墙的配置。确保你了解规则的功能和作用，以免影响正常的网络流量。\n在删除规则之前，可以使用 <code>ufw status numbered</code> 命令查看当前的规则列表，以便选择要删除的规则。\n总之，<code>ufw delete</code> 命令允许你从防火墙规则列表中删除指定的规则。在删除规则之前，请确认其对网络流量和系统的影响。</p>\n<h2 id=\"其他\">其他</h2>\n<p>在 <code>ufw（Uncomplicated Firewall）</code>中，<code>insert</code>、<code>add</code> 和 <code>delete</code> 命令立即生效。并且是是持久的，这意味着这些规则将会在防火墙服务重启后保留。</p>\n"}