{"name":"rsync","desc":"rsync 是一个命令行实用程序，用于在本地或远程计算机之间同步文件和目录。它可以让您更新两个位置之间的文件，仅复制更改的部分并删除任何已删除的文件。它还可以通过SSH安全地传输文件。","usages":[{"name":"本地同步文件和目录","form":{"source":{"name":"源文件或目录路径","required":true,"type":"string"},"target":{"name":"目标路径","required":true,"type":"string"},"-v":{"type":"check","name":"增加冗长输出","optionName":"-v"},"-q":{"type":"check","name":"减少输出","optionName":"-q"},"-c":{"type":"check","name":"进行压缩","optionName":"-c"},"-a":{"type":"check","name":"归档模式，相当于-rlptgoD","optionName":"-a"},"-r":{"type":"check","name":"递归同步子目录","optionName":"-r"},"-l":{"type":"check","name":"保留符号链接","optionName":"-l"},"-p":{"type":"check","name":"保留权限","optionName":"-p"},"-t":{"type":"check","name":"保留时间戳","optionName":"-t"},"-g":{"type":"check","name":"保留组信息","optionName":"-g"},"-o":{"type":"check","name":"保留所有者信息","optionName":"-o"},"-D":{"type":"check","name":"保留设备和特殊文件","optionName":"-D"},"-u":{"type":"check","name":"更新已有文件，不复制不存在的文件","optionName":"-u"},"-i":{"type":"check","name":"输出增量信息","optionName":"-i"},"-n":{"type":"check","name":"测试运行，不进行实际传输","optionName":"-n"},"-z":{"type":"check","name":"进行压缩传输","optionName":"-z"},"--delete":{"type":"check","name":"在目标端删除源端没有的文件","optionName":"--delete"},"--exclude":{"type":"string","name":"排除指定的文件/目录","repeatable":true,"optionName":"--exclude"},"--include":{"type":"string","name":"包括指定的文件/目录","optionName":"--include"},"--bwlimit":{"type":"string","name":"限制带宽，单位KB/S","optionName":"--bwlimit"},"--progress":{"type":"check","name":"显示传输进度","optionName":"--progress"},"--itemize-changes":{"type":"check","name":"输出增量信息","optionName":"--itemize-changes"},"--dry-run":{"type":"check","name":"测试运行，不进行实际传输","optionName":"--dry-run"}},"filter":"(cmd, values) => `${cmd} ${values.source} ${values.target}`"},{"name":"远程同步文件和目录","form":{"source":{"name":"源文件或目录路径","required":true,"type":"string"},"target":{"name":"目标路径","required":true,"type":"string"},"remote_user":{"name":"远程用户","required":true,"type":"string"},"remote_host":{"name":"远程主机","required":true,"type":"string"},"-e":{"type":"string","name":"指定远程shell程序","desc":"例：ssh -p 22","optionName":"-e"},"-v":{"type":"check","name":"增加冗长输出","optionName":"-v"},"-q":{"type":"check","name":"减少输出","optionName":"-q"},"-c":{"type":"check","name":"进行压缩","optionName":"-c"},"-a":{"type":"check","name":"归档模式，相当于-rlptgoD","optionName":"-a"},"-r":{"type":"check","name":"递归同步子目录","optionName":"-r"},"-l":{"type":"check","name":"保留符号链接","optionName":"-l"},"-p":{"type":"check","name":"保留权限","optionName":"-p"},"-t":{"type":"check","name":"保留时间戳","optionName":"-t"},"-g":{"type":"check","name":"保留组信息","optionName":"-g"},"-o":{"type":"check","name":"保留所有者信息","optionName":"-o"},"-D":{"type":"check","name":"保留设备和特殊文件","optionName":"-D"},"-u":{"type":"check","name":"更新已有文件，不复制不存在的文件","optionName":"-u"},"-i":{"type":"check","name":"输出增量信息","optionName":"-i"},"-n":{"type":"check","name":"测试运行，不进行实际传输","optionName":"-n"},"-z":{"type":"check","name":"进行压缩传输","optionName":"-z"},"--delete":{"type":"check","name":"在目标端删除源端没有的文件","optionName":"--delete"},"--exclude":{"type":"string","name":"排除指定的文件/目录","repeatable":true,"optionName":"--exclude"},"--include":{"type":"string","name":"包括指定的文件/目录","optionName":"--include"},"--bwlimit":{"type":"string","name":"限制带宽，单位KB/S","optionName":"--bwlimit"},"--progress":{"type":"check","name":"显示传输进度","optionName":"--progress"},"--itemize-changes":{"type":"check","name":"输出增量信息","optionName":"--itemize-changes"},"--dry-run":{"type":"check","name":"测试运行，不进行实际传输","optionName":"--dry-run"}},"filter":"(cmd, values) => `${cmd} ${values.source} ${values.remote_user}@${values.remote_host}:${values.target}`"}],"content":"<h2 id=\"例子\">例子</h2>\n<h3 id=\"1-本地同步文件和目录\">1. 本地同步文件和目录</h3>\n<p>将 <code>source_directory/</code> 目录同步到 <code>destination_directory/</code>：</p>\n<pre><code>rsync -avh source_directory/ destination_directory/\n</code></pre>\n<p>其中，<code>-a</code>，<code>--archive</code> 是一个快捷选项，等价于 <code>-rlptgoD</code>。它表示要将文件和目录以递归方式同步，并保留文件元数据（权限、时间戳等）。</p>\n<ul>\n<li><code>v</code>，<code>-verbose</code> 表示输出冗长的信息。</li>\n<li><code>h</code>，<code>-human-readable</code> 表示以易读的方式显示文件大小。</li>\n</ul>\n<h3 id=\"2-远程同步文件和目录\">2. 远程同步文件和目录</h3>\n<p>将本地 <code>source_directory/</code> 目录同步到远程主机的 <code>destination_directory/</code>：</p>\n<pre><code>rsync -avh source_directory/ user@remote_host:/path/to/destination_directory/\n</code></pre>\n<p>其中，<code>user</code> 是远程主机的用户名。</p>\n<h3 id=\"3-通过-ssh-安全传输文件\">3. 通过 SSH 安全传输文件</h3>\n<p>将本地 <code>source_directory/</code> 目录同步到远程主机的 <code>destination_directory/</code>，并使用 SSH 进行安全传输：</p>\n<pre><code>rsync -avh -e &#39;ssh -p port_number&#39; source_directory/ user@remote_host:/path/to/destination_directory/\n</code></pre>\n<p>其中，<code>port_number</code> 是 SSH 服务器的端口号。</p>\n<h3 id=\"4-删除目标端没有的文件\">4. 删除目标端没有的文件</h3>\n<p>在同步时，删除目标端没有的文件：</p>\n<pre><code>rsync -avh --delete source_directory/ destination_directory/\n</code></pre>\n<h3 id=\"5-排除指定的文件和目录\">5. 排除指定的文件和目录</h3>\n<p>在同步时，排除指定的文件和目录：</p>\n<pre><code>rsync -avh --exclude &#39;file.txt&#39; --exclude &#39;directory/&#39; source_directory/ destination_directory/\n</code></pre>\n<h3 id=\"6-压缩传输\">6. 压缩传输</h3>\n<p>在传输时，压缩文件以减少带宽占用：</p>\n<pre><code>rsync -avh -z source_directory/ destination_directory/\n</code></pre>\n<p>其中，<code>-z</code>，<code>--compress</code> 表示启用压缩传输。</p>\n<h3 id=\"7-限制带宽\">7. 限制带宽</h3>\n<p>在传输时，限制带宽为 100 KB/s：</p>\n<pre><code>rsync -avh --bwlimit=100 source_directory/ destination_directory/\n</code></pre>\n<h3 id=\"8-测试运行\">8. 测试运行</h3>\n<p>测试运行，不进行实际传输：</p>\n<pre><code>rsync -avh --dry-run source_directory/ destination_directory/\n</code></pre>\n<h3 id=\"9-显示传输进度\">9. 显示传输进度</h3>\n<p>显示传输进度：</p>\n<pre><code>rsync -avh --progress source_directory/ destination_directory/\n</code></pre>\n"}