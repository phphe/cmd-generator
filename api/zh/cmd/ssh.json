{"name":"ssh","desc":"SSH是Secure Shell的缩写，是一种加密网络协议，用于在不安全的网络中安全地传输数据。它通常用于远程登录到另一个计算机，并执行命令。","usages":[{"name":"登录服务器","form":{"user":{"name":"用户名","required":true,"type":"string"},"server":{"name":"服务器地址","required":true,"type":"string"},"-p":{"type":"string","name":"端口号","optionName":"-p"},"-i":{"type":"string","name":"密钥文件路径","optionName":"-i"},"-t":{"type":"check","name":"强制分配伪终端","optionName":"-t"},"-v":{"type":"check","name":"详细输出模式","optionName":"-v"},"-1":{"type":"check","name":"强制使用协议版本1","optionName":"-1"},"-2":{"type":"check","name":"强制使用协议版本2","optionName":"-2"},"-4":{"type":"check","name":"强制仅使用IPv4地址","optionName":"-4"},"-6":{"type":"check","name":"强制仅使用IPv6地址","optionName":"-6"},"-A":{"type":"check","name":"打开身份验证代理连接","optionName":"-A"},"-a":{"type":"string","name":"禁用身份验证代理连接","optionName":"-a"},"-b":{"type":"string","name":"本地绑定地址","optionName":"-b"},"-C":{"type":"check","name":"请求压缩所有数据","optionName":"-C"},"-c":{"type":"string","name":"加密算法","optionName":"-c"},"-E":{"type":"string","name":"日志文件","optionName":"-E"},"-e":{"type":"string","name":"逃逸字符","optionName":"-e"},"-F":{"type":"string","name":"配置文件","optionName":"-F"},"-f":{"type":"check","name":"后台执行","optionName":"-f"},"-G":{"type":"check","name":"仅执行连接","optionName":"-G"},"-g":{"type":"check","name":"允许远程主机连接到本地转发的端口","optionName":"-g"},"-J":{"type":"string","name":"跳跃主机","optionName":"-J"},"-K":{"type":"check","name":"启用GSSAPI代理","optionName":"-K"},"-k":{"type":"check","name":"禁用GSSAPI认证","optionName":"-k"},"-l":{"type":"string","name":"登录用户名","optionName":"-l"},"-M":{"type":"check","name":"发送保持活动消息","optionName":"-M"},"-m":{"type":"string","name":"MAC算法","optionName":"-m"},"-N":{"type":"check","name":"不执行远程命令","optionName":"-N"},"-n":{"type":"check","name":"禁止stdin的交互","optionName":"-n"},"-O":{"type":"string","name":"控制连接","optionName":"-O"},"-o":{"type":"string","name":"配置选项","optionName":"-o"},"-Q":{"type":"string","name":"查询指令","optionName":"-Q"},"-S":{"type":"string","name":"指定控制套接字","optionName":"-S"},"-s":{"type":"check","name":"请求为安全连接分配终端","optionName":"-s"},"-T":{"type":"check","name":"禁用分配伪终端","optionName":"-T"},"-V":{"type":"check","name":"显示版本信息并退出","optionName":"-V"},"-W":{"type":"string","name":"将标准输入传递到TCP套接字","optionName":"-W"},"-w":{"type":"string","name":"设置保持活动消息的间隔时间","optionName":"-w"},"-X":{"type":"check","name":"启用X11转发","optionName":"-X"},"-x":{"type":"check","name":"禁用X11转发","optionName":"-x"},"-Y":{"type":"check","name":"启用Trusted X11转发","optionName":"-Y"},"-y":{"type":"check","name":"启用信任X11转发","optionName":"-y"},"-Z":{"type":"check","name":"启用SSH连接压缩","optionName":"-Z"},"-z":{"type":"check","name":"请求以ASCII格式传输压缩数据","optionName":"-z"}},"filter":"(cmd, values) => cmd + ' ' + values.user + '@' + values.server"},{"name":"本地端口转发","desc":"通过本地指定端口访问登录的ssh服务器网域的任意地址","form":{"localPort":{"name":"本地端口","required":true,"type":"string"},"targetServer":{"name":"要访问的地址（ip或域名）","required":true,"type":"string"},"targetServerPort":{"name":"要访问的地址端口","required":true,"type":"string"},"user":{"name":"用户名","required":true,"type":"string"},"server":{"name":"服务器地址","required":true,"type":"string"},"-p":{"type":"string","name":"端口号","optionName":"-p"},"-i":{"type":"string","name":"密钥文件路径","optionName":"-i"},"-t":{"type":"check","name":"强制分配伪终端","optionName":"-t"},"-v":{"type":"check","name":"详细输出模式","optionName":"-v"},"-1":{"type":"check","name":"强制使用协议版本1","optionName":"-1"},"-2":{"type":"check","name":"强制使用协议版本2","optionName":"-2"},"-4":{"type":"check","name":"强制仅使用IPv4地址","optionName":"-4"},"-6":{"type":"check","name":"强制仅使用IPv6地址","optionName":"-6"},"-A":{"type":"check","name":"打开身份验证代理连接","optionName":"-A"},"-a":{"type":"string","name":"禁用身份验证代理连接","optionName":"-a"},"-b":{"type":"string","name":"本地绑定地址","optionName":"-b"},"-C":{"type":"check","name":"请求压缩所有数据","optionName":"-C"},"-c":{"type":"string","name":"加密算法","optionName":"-c"},"-E":{"type":"string","name":"日志文件","optionName":"-E"},"-e":{"type":"string","name":"逃逸字符","optionName":"-e"},"-F":{"type":"string","name":"配置文件","optionName":"-F"},"-f":{"type":"check","name":"后台执行","optionName":"-f"},"-G":{"type":"check","name":"仅执行连接","optionName":"-G"},"-g":{"type":"check","name":"允许远程主机连接到本地转发的端口","optionName":"-g"},"-J":{"type":"string","name":"跳跃主机","optionName":"-J"},"-K":{"type":"check","name":"启用GSSAPI代理","optionName":"-K"},"-k":{"type":"check","name":"禁用GSSAPI认证","optionName":"-k"},"-l":{"type":"string","name":"登录用户名","optionName":"-l"},"-M":{"type":"check","name":"发送保持活动消息","optionName":"-M"},"-m":{"type":"string","name":"MAC算法","optionName":"-m"},"-N":{"type":"check","name":"不执行远程命令","optionName":"-N"},"-n":{"type":"check","name":"禁止stdin的交互","optionName":"-n"},"-O":{"type":"string","name":"控制连接","optionName":"-O"},"-o":{"type":"string","name":"配置选项","optionName":"-o"},"-Q":{"type":"string","name":"查询指令","optionName":"-Q"},"-S":{"type":"string","name":"指定控制套接字","optionName":"-S"},"-s":{"type":"check","name":"请求为安全连接分配终端","optionName":"-s"},"-T":{"type":"check","name":"禁用分配伪终端","optionName":"-T"},"-V":{"type":"check","name":"显示版本信息并退出","optionName":"-V"},"-W":{"type":"string","name":"将标准输入传递到TCP套接字","optionName":"-W"},"-w":{"type":"string","name":"设置保持活动消息的间隔时间","optionName":"-w"},"-X":{"type":"check","name":"启用X11转发","optionName":"-X"},"-x":{"type":"check","name":"禁用X11转发","optionName":"-x"},"-Y":{"type":"check","name":"启用Trusted X11转发","optionName":"-Y"},"-y":{"type":"check","name":"启用信任X11转发","optionName":"-y"},"-Z":{"type":"check","name":"启用SSH连接压缩","optionName":"-Z"},"-z":{"type":"check","name":"请求以ASCII格式传输压缩数据","optionName":"-z"}},"filter":"(cmd, values) =>\n        `${cmd} -L ${values.localPort}:${values.targetServer}:${values.targetServerPort} ${values.user}@${values.server}`"},{"name":"远程端口转发","desc":"通过ssh服务器指定端口访问本机网域的任意地址","form":{"remotePort":{"name":"远程端口","required":true,"type":"string"},"targetServer":{"name":"要访问的地址（ip或域名）","required":true,"type":"string"},"targetServerPort":{"name":"要访问的地址端口","required":true,"type":"string"},"user":{"name":"用户名","required":true,"type":"string"},"server":{"name":"服务器地址","required":true,"type":"string"},"-p":{"type":"string","name":"端口号","optionName":"-p"},"-i":{"type":"string","name":"密钥文件路径","optionName":"-i"},"-t":{"type":"check","name":"强制分配伪终端","optionName":"-t"},"-v":{"type":"check","name":"详细输出模式","optionName":"-v"},"-1":{"type":"check","name":"强制使用协议版本1","optionName":"-1"},"-2":{"type":"check","name":"强制使用协议版本2","optionName":"-2"},"-4":{"type":"check","name":"强制仅使用IPv4地址","optionName":"-4"},"-6":{"type":"check","name":"强制仅使用IPv6地址","optionName":"-6"},"-A":{"type":"check","name":"打开身份验证代理连接","optionName":"-A"},"-a":{"type":"string","name":"禁用身份验证代理连接","optionName":"-a"},"-b":{"type":"string","name":"本地绑定地址","optionName":"-b"},"-C":{"type":"check","name":"请求压缩所有数据","optionName":"-C"},"-c":{"type":"string","name":"加密算法","optionName":"-c"},"-E":{"type":"string","name":"日志文件","optionName":"-E"},"-e":{"type":"string","name":"逃逸字符","optionName":"-e"},"-F":{"type":"string","name":"配置文件","optionName":"-F"},"-f":{"type":"check","name":"后台执行","optionName":"-f"},"-G":{"type":"check","name":"仅执行连接","optionName":"-G"},"-g":{"type":"check","name":"允许远程主机连接到本地转发的端口","optionName":"-g"},"-J":{"type":"string","name":"跳跃主机","optionName":"-J"},"-K":{"type":"check","name":"启用GSSAPI代理","optionName":"-K"},"-k":{"type":"check","name":"禁用GSSAPI认证","optionName":"-k"},"-l":{"type":"string","name":"登录用户名","optionName":"-l"},"-M":{"type":"check","name":"发送保持活动消息","optionName":"-M"},"-m":{"type":"string","name":"MAC算法","optionName":"-m"},"-N":{"type":"check","name":"不执行远程命令","optionName":"-N"},"-n":{"type":"check","name":"禁止stdin的交互","optionName":"-n"},"-O":{"type":"string","name":"控制连接","optionName":"-O"},"-o":{"type":"string","name":"配置选项","optionName":"-o"},"-Q":{"type":"string","name":"查询指令","optionName":"-Q"},"-S":{"type":"string","name":"指定控制套接字","optionName":"-S"},"-s":{"type":"check","name":"请求为安全连接分配终端","optionName":"-s"},"-T":{"type":"check","name":"禁用分配伪终端","optionName":"-T"},"-V":{"type":"check","name":"显示版本信息并退出","optionName":"-V"},"-W":{"type":"string","name":"将标准输入传递到TCP套接字","optionName":"-W"},"-w":{"type":"string","name":"设置保持活动消息的间隔时间","optionName":"-w"},"-X":{"type":"check","name":"启用X11转发","optionName":"-X"},"-x":{"type":"check","name":"禁用X11转发","optionName":"-x"},"-Y":{"type":"check","name":"启用Trusted X11转发","optionName":"-Y"},"-y":{"type":"check","name":"启用信任X11转发","optionName":"-y"},"-Z":{"type":"check","name":"启用SSH连接压缩","optionName":"-Z"},"-z":{"type":"check","name":"请求以ASCII格式传输压缩数据","optionName":"-z"}},"filter":"(cmd, values) =>\n        `${cmd} -R ${values.remotePort}:${values.targetServer}:${values.targetServerPort} ${values.user}@${values.server}`"},{"name":"动态端口转发","desc":"在本地指定端口与ssh服务器之间创建一个socks代理. 通过此代理，您可以访问ssh服务器可以访问的所有地址.","form":{"-D":{"name":"转发端口","required":true,"type":"string","optionName":"-D"},"user":{"name":"用户名","required":true,"type":"string"},"server":{"name":"服务器地址","required":true,"type":"string"},"-p":{"type":"string","name":"端口号","optionName":"-p"},"-i":{"type":"string","name":"密钥文件路径","optionName":"-i"},"-t":{"type":"check","name":"强制分配伪终端","optionName":"-t"},"-v":{"type":"check","name":"详细输出模式","optionName":"-v"},"-1":{"type":"check","name":"强制使用协议版本1","optionName":"-1"},"-2":{"type":"check","name":"强制使用协议版本2","optionName":"-2"},"-4":{"type":"check","name":"强制仅使用IPv4地址","optionName":"-4"},"-6":{"type":"check","name":"强制仅使用IPv6地址","optionName":"-6"},"-A":{"type":"check","name":"打开身份验证代理连接","optionName":"-A"},"-a":{"type":"string","name":"禁用身份验证代理连接","optionName":"-a"},"-b":{"type":"string","name":"本地绑定地址","optionName":"-b"},"-C":{"type":"check","name":"请求压缩所有数据","optionName":"-C"},"-c":{"type":"string","name":"加密算法","optionName":"-c"},"-E":{"type":"string","name":"日志文件","optionName":"-E"},"-e":{"type":"string","name":"逃逸字符","optionName":"-e"},"-F":{"type":"string","name":"配置文件","optionName":"-F"},"-f":{"type":"check","name":"后台执行","optionName":"-f"},"-G":{"type":"check","name":"仅执行连接","optionName":"-G"},"-g":{"type":"check","name":"允许远程主机连接到本地转发的端口","optionName":"-g"},"-J":{"type":"string","name":"跳跃主机","optionName":"-J"},"-K":{"type":"check","name":"启用GSSAPI代理","optionName":"-K"},"-k":{"type":"check","name":"禁用GSSAPI认证","optionName":"-k"},"-l":{"type":"string","name":"登录用户名","optionName":"-l"},"-M":{"type":"check","name":"发送保持活动消息","optionName":"-M"},"-m":{"type":"string","name":"MAC算法","optionName":"-m"},"-N":{"type":"check","name":"不执行远程命令","optionName":"-N"},"-n":{"type":"check","name":"禁止stdin的交互","optionName":"-n"},"-O":{"type":"string","name":"控制连接","optionName":"-O"},"-o":{"type":"string","name":"配置选项","optionName":"-o"},"-Q":{"type":"string","name":"查询指令","optionName":"-Q"},"-S":{"type":"string","name":"指定控制套接字","optionName":"-S"},"-s":{"type":"check","name":"请求为安全连接分配终端","optionName":"-s"},"-T":{"type":"check","name":"禁用分配伪终端","optionName":"-T"},"-V":{"type":"check","name":"显示版本信息并退出","optionName":"-V"},"-W":{"type":"string","name":"将标准输入传递到TCP套接字","optionName":"-W"},"-w":{"type":"string","name":"设置保持活动消息的间隔时间","optionName":"-w"},"-X":{"type":"check","name":"启用X11转发","optionName":"-X"},"-x":{"type":"check","name":"禁用X11转发","optionName":"-x"},"-Y":{"type":"check","name":"启用Trusted X11转发","optionName":"-Y"},"-y":{"type":"check","name":"启用信任X11转发","optionName":"-y"},"-Z":{"type":"check","name":"启用SSH连接压缩","optionName":"-Z"},"-z":{"type":"check","name":"请求以ASCII格式传输压缩数据","optionName":"-z"}},"filter":"(cmd, values) => cmd + ' ' + values.user + '@' + values.server"}],"content":"<h2 id=\"例子\">例子</h2>\n<ul>\n<li><code>ssh user@hostname</code>，连接到远程主机</li>\n<li><code>ssh -p port user@hostname</code>，连接到远程主机的指定端口</li>\n<li><code>ssh -i /path/to/private_key user@hostname</code>，使用指定的私钥进行身份验证</li>\n<li><code>ssh -L local_port:remote_host:remote_port user@hostname</code>，打开本地端口转发</li>\n<li><code>ssh -R remote_port:localhost:local_port user@hostname</code>，打开远程端口转发</li>\n<li><code>ssh -X user@hostname</code>，打开 X11 转发</li>\n<li><code>ssh -D local_socks_port user@hostname</code>，打开动态端口转发</li>\n<li><code>ssh -f user@hostname -L local_port:remote_host:remote_port -N</code>，将 SSH 客户端转入后台运行并打开本地端口转发</li>\n</ul>\n<h3 id=\"实现本地端口连接服务器数据库\">实现本地端口连接服务器数据库</h3>\n<p>数据库一般使用 3306 端口。实现本地 3306 端口连接服务器 3306 端口。</p>\n<pre><code class=\"language-sh\">ssh -L 3306:localhost:3306 username@server_ip\n</code></pre>\n<p>其中，3306 是本地端口，localhost 是远程主机地址，3306 是远程主机端口，username 是远程主机用户名，server_ip 是远程主机 IP 地址。</p>\n<p>在本地主机上使用 MySQL 客户端连接 localhost:3306 即可连接到远程主机的 3306 端口。</p>\n<p>当然你也可以更改第一个 3306，实现本地其他端口连接服务器 3306 端口。</p>\n<h3 id=\"ssh-远程转发服务器-3306-端口连接本地-3306-端口\">SSH 远程转发服务器 3306 端口连接本地 3306 端口</h3>\n<p>如果你数据库安装在本地，想要服务器访问本地的数据库。（仅推荐在开发环境中使用）</p>\n<pre><code class=\"language-sh\">ssh -L 3306:localhost:3306 username@server_ip_address\n</code></pre>\n<p>其中，username 是您在服务器上的用户名，server_ip_address 是服务器的 IP 地址。</p>\n<p>请注意，当您关闭 SSH 连接时，隧道也会关闭。这意味着如果您想继续与 MySQL 服务器进行交互，则需要保持 SSH 连接打开。你也可以让命令保持后台执行以保持连接。</p>\n<h3 id=\"使-ssh-连接在后台运行\">使 SSH 连接在后台运行</h3>\n<p>如果您想让 SSH 连接在后台运行，可以在输入 SSH 命令时添加<code>-fNT</code>选项，如下所示：</p>\n<pre><code class=\"language-sh\">ssh -fNT -L 3306:localhost:3306 username@server_ip_address\n</code></pre>\n<p>这将在后台运行 SSH 连接，而不会在终端或命令提示符中显示输出。要关闭 SSH 连接，请使用以下命令：</p>\n<pre><code class=\"language-sh\">kill `ps aux | grep ssh | grep &#39;username@server_ip_address&#39; | awk &#39;{print $2}&#39;`\n</code></pre>\n<p>其中，<code>username@server_ip_address</code>是您之前使用的 SSH 连接的用户名和 IP 地址。</p>\n<p>请注意，这将终止所有与该 SSH 连接相关的进程，包括在后台运行的进程。如果您只想关闭特定的 SSH 连接，请使用以下命令：</p>\n<pre><code class=\"language-sh\">ps aux | grep ssh | grep &#39;username@server_ip_address&#39;\n</code></pre>\n<p>这将显示与该 SSH 连接相关的所有进程的列表。找到要终止的进程，并使用<code>kill</code>命令将其终止，如下所示：</p>\n<pre><code class=\"language-sh\">kill &lt;process_id&gt;\n</code></pre>\n<p>其中，<code>&lt;process_id&gt;</code>是要终止的进程的 ID 号。</p>\n"}