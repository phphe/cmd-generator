{"name":"semanage","desc":"semanage 命令行是一个管理 SELinux 策略的工具，可以用于更改 SELinux 的安全上下文和策略。它允许用户更改文件和进程的 SELinux 上下文，以及添加、删除和修改 SELinux 策略模块。","usages":[{"form":{"-a":{"type":"string","name":"添加或更新一个SELinux策略模块","optionName":"-a"},"-b":{"type":"check","name":"默认情况下，不递归拥有目录的子目录","optionName":"-b"},"-B":{"type":"check","name":"默认情况下，递归所有拥有目录的子目录","optionName":"-B"},"-d":{"type":"string","name":"删除一个SELinux策略模块","optionName":"-d"},"-D":{"type":"check","name":"删除所有版本的SELinux策略模块","optionName":"-D"},"-e":{"type":"check","name":"显示SELinux策略模块的文件名和完整路径","optionName":"-e"},"-f":{"type":"string","name":"从文件中载入SELinux策略模块","optionName":"-f"},"-F":{"type":"check","name":"在文件中输出SELinux策略模块","optionName":"-F"},"-i":{"type":"string","name":"从文件中安装SELinux策略模块","optionName":"-i"},"-n":{"type":"check","name":"不执行SELinux策略模块的变更","optionName":"-n"},"-N":{"type":"check","name":"不执行SELinux策略模块的变更，但允许SELinux策略模块打印日志","optionName":"-N"},"-R":{"type":"check","name":"递归所有拥有目录的子目录，包括挂载点","optionName":"-R"},"-s":{"type":"string","name":"为SELinux策略模块设置一个新名称","optionName":"-s"},"-S":{"type":"check","name":"打印SELinux策略模块的大小","optionName":"-S"},"-t":{"type":"string","name":"为文件或进程设置SELinux安全上下文","optionName":"-t"},"-T":{"type":"check","name":"打印SELinux策略模块的类型","optionName":"-T"},"-v":{"type":"check","name":"打印更多的详细信息","optionName":"-v"},"-V":{"type":"check","name":"打印版本信息","optionName":"-V"},"-x":{"type":"string","name":"从SELinux策略模块中删除一个文件","optionName":"-x"},"-X":{"type":"check","name":"删除所有的文件定义","optionName":"-X"}}}],"content":"<h2 id=\"例子\">例子</h2>\n<ul>\n<li><p>将 <code>/var/www</code> 目录的 SELinux 安全上下文更改为 <code>httpd_sys_content_t</code>：</p>\n<pre><code class=\"language-vb.net\">semanage fcontext -a -t httpd_sys_content_t &quot;/var/www(/.*)?&quot;\nrestorecon -Rv /var/www\n</code></pre>\n</li>\n<li><p>将 <code>httpd</code> 安全上下文更改为默认值：</p>\n<pre><code class=\"language-vb.net\">semanage fcontext -d -t httpd_sys_content_t &quot;/var/www(/.*)?&quot;\nrestorecon -Rv /var/www\n</code></pre>\n</li>\n<li><p>启用 <code>httpd_can_network_connect</code> 权限：</p>\n<pre><code class=\"language-vb.net\">semanage port -a -t http_port_t -p tcp 8080\nsemanage port -a -t http_port_t -p tcp 8888\nsemanage boolean -m httpd_can_network_connect 1\n</code></pre>\n</li>\n<li><p>显示所有安装的 SELinux 模块：</p>\n<pre><code class=\"language-vb.net\">semanage module -l\n</code></pre>\n</li>\n<li><p>安装新的 SELinux 模块：</p>\n<pre><code class=\"language-vb.net\">semanage module -i /root/example.pp\n</code></pre>\n</li>\n<li><p>删除 SELinux 模块：</p>\n<pre><code class=\"language-vb.net\">semanage module -r example\n</code></pre>\n</li>\n<li><p>列出所有 SELinux 用户：</p>\n<pre><code class=\"language-vb.net\">semanage login -l\n</code></pre>\n</li>\n<li><p>添加一个新的 SELinux 用户：</p>\n<pre><code class=\"language-vb.net\">semanage login -a -s user_u -r s0-s0:c0.c1023 example_user\n</code></pre>\n</li>\n<li><p>删除一个 SELinux 用户：</p>\n<pre><code class=\"language-vb.net\">semanage login -d example_user\n</code></pre>\n</li>\n</ul>\n"}