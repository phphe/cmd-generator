import{k as W,l as ae,o as r,c as u,m as ie,f as N,r as A,n as J,a as h,q as le,s as U,i as o,T as re,b as z,v as C,h as T,g as K,t as _,F as B,x as j,y as q,z as se,A as ue,B as de,C as pe,w as Z,d as ee,D as ne,E as me,G as fe,H as he,I as ge,J as _e,K as ye}from"./v7DkexiA.js";import{u as be}from"./BVQSNFMf.js";import{m as ve,_ as X,a as ke,b as $e,c as we,u as xe}from"./2cnlQ1Vq.js";import{_ as Se}from"./DlAUqK2U.js";import{u as Ce}from"./BjNSu2vo.js";const Me={id:"disqus_thread"},Te={__name:"DisqusComment",props:{id:String,url:String,language:{type:String,default:"en"}},setup(t){const e=t,s=ie();W(async()=>{window.__DISQUS_LOAD_PROMISE__||(window.disqus_config=function(){this.language=e.language},window.__DISQUS_LOAD_PROMISE__=new Promise((i,p)=>{var b=document,c=b.createElement("script");c.src=`https://${s.public.DISQUS_SHORTNAME}.disqus.com/embed.js`,c.setAttribute("data-timestamp",+new Date),c.addEventListener("load",()=>{i(window.DISQUS)},!1),c.addEventListener("error",p,!1),(b.head||b.body).appendChild(c)})),ae(()=>e.id,async()=>{await window.__DISQUS_LOAD_PROMISE__,d()},{immediate:!0})});const d=()=>{const{DISQUS:i}=window;i.reset({reload:!0,config:function(){this.page.identifier=e.id,this.page.url=e.url,this.language=e.language}})};return(i,p)=>(r(),u("div",Me))}},Ee=Te,De=N({__name:"Snackbar",setup(t,{expose:e}){const s=A(!1);let d;function i(){s.value=!1,clearTimeout(d),setTimeout(()=>{s.value=!0,d=setTimeout(()=>{s.value=!1},1500)},50)}return e({show:i,open:i}),(p,b)=>(r(),J(re,{to:"body"},[h("div",{class:U(["snackbar bg-zinc-800 text-white fixed px-4 py-3 rounded bottom-10",{"snackbar-visible":o(s)}])},[le(p.$slots,"default")],2)]))}});/*!
 * helper-js v3.1.5
 * Author: phphe <phphe@outlook.com> (https://github.com/phphe)
 * Homepage: null
 * Released under the MIT License.
 */function Y(t){return Object.prototype.toString.call(t)==="[object Array]"}function Ae(t){return Object.prototype.toString.call(t)==="[object String]"}function Ue(t,e){return Math.floor(Math.random()*(e-t+1)+t)}function Ve(t){return t[Ue(0,t.length-1)]}function Oe(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:8,e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",s="";for(let d=0;d<t;d++)s+=Ve(e);return s}function oe(t){return Y(t)?t:[t]}function H(t,e){const s={};let d=0;for(const i in t)s[i]=e(t[i],i,d),d++;return s}function Ie(t,e,s){t[e]!==s&&(t[e]=s)}function Be(t,e,s,d){t.addEventListener?t.addEventListener(e,s,d):t.attachEvent&&t.attachEvent("on".concat(e),s,d)}function Le(t,e,s,d){t.removeEventListener?t.removeEventListener(e,s,d):t.detachEvent&&t.detachEvent("on".concat(e),s,d)}function ze(t){let e=[];const s=()=>{if(!i.listening){for(const p of t){Be.apply(this,p);const b=()=>Le.apply(this,p);e.push(b)}i.listening=!0}},i={listening:!1,stop:()=>{if(i.listening){for(const p of e)p();e=[],i.listening=!1}},resume:s,start:s};return i.start(),i}function qe(t){try{navigator.clipboard.writeText(t);return}catch{}var e=document.createElement("textarea");e.style.position="fixed",e.style.top="0",e.style.left="0",e.style.width="2em",e.style.height="2em",e.style.padding="0",e.style.border="none",e.style.outline="none",e.style.boxShadow="none",e.style.background="transparent",e.value=t,document.body.appendChild(e),e.select();try{var s=document.execCommand("copy"),d=s?"successful":"unsuccessful";console.log("Copying text command was "+d)}catch{console.log("Oops, unable to copy")}document.body.removeChild(e)}const ce=N({__name:"SuccessButton",props:{auto:{type:Boolean,default:!0},delayToShow:{default:100},delayToHide:{default:1e3},maskClass:{type:String,default:""}},setup(t){const e=A(!1),s=t;let d,i;function p(){s.auto&&(clearTimeout(d),clearTimeout(i),d=setTimeout(()=>{e.value=!0,i=setTimeout(()=>{e.value=!1},s.delayToHide)},s.delayToShow))}return(b,c)=>{const g=X;return r(),u("button",{onClick:p,class:U({"relative overflow-hidden":o(e)})},[le(b.$slots,"default"),o(e)?(r(),u("div",{key:0,class:U(["absolute top-0 left-0 w-full h-full flex justify-center items-center bg-green-500 text-white",t.maskClass])},[z(g,{path:o(ve)},null,8,["path"])],2)):C("",!0)],2)}}});function G(t){return new Function("return "+t)()}const je={key:0,class:"font-medium text-base border-b pb-2 uppercase-first"},Fe={key:1,class:"mt-2 text-sm text-gray-500 uppercase-first"},Ne={class:"usgform-list mt-2"},Pe={key:0,class:"usgform-item"},Re=["for"],Qe={class:"uppercase-first"},He=["id","onUpdate:modelValue"],Ge=["id","onUpdate:modelValue"],We=["onClick"],Xe=["id","onUpdate:modelValue"],Ye={value:null},Je=["value"],Ke={key:3,class:"block"},Ze=["id","onUpdate:modelValue","onChange"],et={class:"ml-1 uppercase-first"},tt={key:4},st=["type","id","value","onUpdate:modelValue"],nt={class:"ml-1 uppercase-first"},ot={key:5},at={key:6,class:"mt-0.5 text-sm text-gray-500"},it={class:"mt-4 text-right border-t pt-2"},lt=N({__name:"UsageItem",props:{cmd:{},usage:{},active:{type:Boolean}},emits:["change","copy"],setup(t,{emit:e}){const s=t,d=e,i=T(()=>H(s.usage.form,(n,m)=>`formControl_${m}_${Oe(8)}`)),p=K(),b=T(()=>({zh:{pls_select:"请选择",gen_and_copy:"生成并复制"},en:{pls_select:"Select",gen_and_copy:"Generate and copy"}})[p.locale]),c=T(()=>ne(H(s.usage.form,(n,m)=>n.type==="check"?!1:n.type==="checkboxes"?[]:n.repeatable?[null]:null))),g=T(()=>ne(H(c.value,(n,m)=>{const y=s.usage.form[m];if(y.type==="check")return n;y.required&&(Y(n)?R(n[0])&&(n=[y.name]):R(n)&&(n=y.name));const a=l=>D(l)?Ae(l)&&!y.noQuotes?L(l):l:"";return Y(n)?n.map(l=>a(l)):a(n)}))),k=T(()=>{let n={};for(const m of Object.keys(s.usage.form)){const y=s.usage.form[m];if(y.if){let a=G(y.if);n[m]=!!a(g.value)}else n[m]=!0}return n}),V=T(()=>s.usage.filter&&G(s.usage.filter)),F=T(()=>s.usage.optionsPartFilter&&G(s.usage.optionsPartFilter)),P=T(()=>{var O,w;const{cmd:n,usage:m}=s,y=s.usage.nameInCMD||n.nameInCMD||n.name,a=n.assignmentOperator||" ";let l=[],v="";for(const f of Object.keys(g.value)){const M=m.form[f],I=g.value[f];if(f[0]==="-"&&M.type!=="checkboxes"&&k.value[f]){if(M.type==="check"){if(I){let S=!1;m.noMergeOptions!=null?S=m.noMergeOptions:n.noMergeOptions!=null&&(S=n.noMergeOptions),!S&&f.match(/^-[a-zA-Z]$/)?v+=f.substring(1):l.push(f)}}else if(["string","select","radios"].includes(M.type)){let S=oe(I);for(const E of S)D(E)&&l.push(`${f}${a}${E}`)}}}D(v)&&l.unshift("-"+v),l=l.filter(f=>D(f));let $=l.join(" ");F.value&&($=(O=F.value($,g.value))==null?void 0:O.trim());let x=`${y}`;if(D($)&&(x=`${x} ${$}`),k.value[""]){const f=g.value[""];let M=oe(f);for(const I of M)D(I)&&(x=`${x} ${I}`)}return V.value&&(x=(w=V.value(x,g.value))==null?void 0:w.trim()),x});ae(()=>P.value,n=>{d("change",n)},{immediate:!0});function L(n,m='"',y=!1){let a=m;return(y||n.match(/\s|\\|\*/)||n.includes(a))&&(n=n.replaceAll(a,`\\${a}`),n=`${a}${n}${a}`),n}function D(n){return n!=null&&n!==""}function R(n){return!D(n)}function Q(n){const m=s.usage.form[n];if(m.type==="check"&&m.group)for(const y of Object.keys(s.usage.form)){const a=s.usage.form[y];a!==m&&a.type==="check"&&a.group===m.group&&Ie(c.value,y,!1)}}return(n,m)=>{const y=ce;return r(),u("div",{class:U(["usage-item text-sm",{"shadow-lg relative md:-top-2":n.active}])},[n.usage.name?(r(),u("h2",je,_(n.usage.name),1)):C("",!0),n.usage.desc?(r(),u("div",Fe,_(n.usage.desc),1)):C("",!0),h("div",Ne,[(r(!0),u(B,null,j(n.usage.form,(a,l)=>(r(),u(B,{key:l},[o(k)[l]?(r(),u("div",Pe,[a.type!=="check"?(r(),u("label",{key:0,for:a.id,class:"mb-1 block"},[a.required?(r(),J(X,{key:0,class:"required-icon text-red-600 text-xs mr-0.5",path:o(ke)},null,8,["path"])):C("",!0),h("span",Qe,_(a.name)+_(a.optionName&&` (${a.optionName})`),1)],8,Re)):C("",!0),a.type==="string"?(r(),u(B,{key:1},[a.repeatable?(r(!0),u(B,{key:1},j(o(c)[l],(v,$)=>(r(),u("div",{class:U(["flex",{"mt-2":$>0}])},[q(h("input",{type:"text",id:o(i)[l]+$,"onUpdate:modelValue":x=>o(c)[l][$]=x,class:"input flex-grow",autocomplete:"off"},null,8,Ge),[[se,o(c)[l][$]]]),h("button",{class:"flex-shrink-0 ml-2 py-2 px-3 rounded hover:bg-zinc-600 bg-zinc-400 text-white",onClick:x=>$>0?o(c)[l].splice($,1):o(c)[l].push(null)},[z(X,{path:$===0?o($e):o(we),class:"scale-125"},null,8,["path"])],8,We)],2))),256)):q((r(),u("input",{key:0,type:"text",id:o(i)[l],"onUpdate:modelValue":v=>o(c)[l]=v,class:"input",autocomplete:"off"},null,8,He)),[[se,o(c)[l]]])],64)):a.type==="select"?q((r(),u("select",{key:2,id:o(i)[l],"onUpdate:modelValue":v=>o(c)[l]=v,class:"select"},[h("option",Ye,"--"+_(o(b).pls_select)+"--",1),(r(!0),u(B,null,j(a.options,v=>(r(),u("option",{value:v.value},_(v.name),9,Je))),256))],8,Xe)),[[ue,o(c)[l]]]):a.type==="check"?(r(),u("label",Ke,[q(h("input",{type:"checkbox",id:o(i)[l],"onUpdate:modelValue":v=>o(c)[l]=v,onChange:v=>Q(l),class:"checkbox"},null,40,Ze),[[de,o(c)[l]]]),h("span",et,_(a.name)+_(a.optionName&&` (${a.optionName})`),1)])):["checkboxes","radios"].includes(a.type)?(r(),u("div",tt,[(r(!0),u(B,null,j(a.options,(v,$)=>(r(),u("label",{class:U(["whitespace-nowrap",{"mr-2":$<a.options.length-1}])},[h("span",{class:U({"checked-radio":a.type!=="checkboxes"&&o(c)[l]===v.value}),onClick:m[0]||(m[0]=()=>{})},[q(h("input",{type:a.type==="checkboxes"?"checkbox":"radio",id:o(i)[l]+$,value:v.value,"onUpdate:modelValue":x=>o(c)[l]=x,class:"checkbox"},null,8,st),[[pe,o(c)[l]]])],2),h("span",nt,_(v.name),1)],2))),256))])):(r(),u("span",ot,"Unsupported type: "+_(a.type),1)),a.desc?(r(),u("div",at,_(a.desc),1)):C("",!0)])):C("",!0)],64))),128))]),h("div",it,[z(y,{class:"py-2 px-3 bg-zinc-800 rounded text-white hover:bg-zinc-600",onClick:m[1]||(m[1]=a=>n.$emit("copy"))},{default:Z(()=>[ee(_(o(b).gen_and_copy),1)]),_:1})])],2)}}}),ct=N({props:{code:{type:String}},emits:["copy"],setup(){const t=K();return{messages:T(()=>({zh:{copy:"复制"},en:{copy:"Copy"}})[t.locale])}},data(){return{parts:[],animate:!1}},computed:{},watch:{code:{immediate:!0,handler(t,e){if(!e){this.parts=["",t,""];return}this.parts=rt(e,t),this.highlight()}}},methods:{highlight(){this.animate=!1,me(()=>{this.animate=!0,this._tm_animte&&clearTimeout(this._tm_animte),this._tm_animte=setTimeout(()=>{this.animate=!1},1e3)})}}});function rt(t,e){let s=null,d=0;for(let g=0;g<e.length;g++)if(t[g]!==e[g]){s=g;break}s==null&&(s=e.length);for(let g=0;g<e.length;g++){const k=e.length-1-g,V=t.length-1-g;if(t[V]!==e[k]||V<s||k<s){d=k+1;break}}let i=e.substring(0,s),p=e.substring(s,d),b=e.substring(d),c=p.match(/^\s+/);return c&&(i=i+c,p=p.substring(c.length)),c=p.match(/\s+$/),c&&(b=c+b,p=p.substring(0,p.length-c.length)),[i,p,b]}const ut={class:"cmd-code-block bg-black text-white p-2 rounded"},dt=h("span",{class:"select-none"},"$ ",-1);function pt(t,e,s,d,i,p){const b=ce;return q((r(),u("code",ut,[dt,h("span",null,_(t.parts[0]),1),h("span",{class:U(["changed-part",{"changed-part--highlight":t.animate}])},_(t.parts[1]),3),h("span",null,_(t.parts[2]),1),z(b,{class:"shell-btn",onClick:e[0]||(e[0]=c=>t.$emit("copy"))},{default:Z(()=>[ee(_(t.messages.copy),1)]),_:1})],512)),[[fe,t.code]])}const mt=Se(ct,[["render",pt]]),ft={key:0,class:"page-cmd pt-8"},ht={class:"text-4xl font-bold"},gt={key:0,class:"mt-4 text-sm text-gray-600"},_t={key:1,class:"mt-4"},yt={class:"font-medium text-xl"},bt={class:"mt-1 list-decimal pl-4"},vt={class:"mb-1"},kt=["href"],$t={class:"text-blue-600 uppercase-first hover:underline",href:"#cmd_content"},wt=["innerHTML"],xt={key:3,class:"max-w-4xl border-t mt-8 pt-8"},Dt=N({__name:"[name]",async setup(t){let e,s;const d=he(),{name:i}=d.params,p=K(),b=ie();be({title:`${i} - ${b.public.PAGE_TITLE_SUFFIX_I18N[p.locale]}`,description:b.public.PAGE_DESC_I18N[p.locale].replace(/:name/g,i)});const c=T(()=>({zh:{copied_tips:"已复制到剪贴板",examples:"示例",tbc:"目录",basic_usage:"基础使用"},en:{copied_tips:"Copied to clipboard",examples:"Examples",tbc:"Table of Contents",basic_usage:"Basic Usage"}})[p.locale]),g=`/api/${p.locale}/cmd/${i}.json`,{data:k}=([e,s]=ge(()=>xe(g,()=>$fetch(g,{}),{watch:[]})),e=await e,s(),e),V=A(),F=[],P=A([]),L=A("");function D(w,f){if(P.value[f]=w,!F[f]){F[f]=!0,f===0&&(L.value=w);return}L.value=w}function R(w,f){V.value=f;let M=P.value[f];M&&(L.value=M)}const Q=A();function n(){qe(L.value),Q.value.open()}const m=A(!0),y=A(null),a=()=>{m.value=y.value?l(y.value):!0};W(()=>{a();let w=ze([[window,"resize",a],[window,"scroll",a]]);_e(()=>{w.stop()})});function l(w){var f=w.getBoundingClientRect();return f.bottom>=0}const{width:v}=Ce(),$=T(()=>{var w;return v.value<1e3||((w=k.value)==null?void 0:w.usages.length)>4});function x(w){let f=w.target.getAttribute("href"),S=document.querySelector(f).getBoundingClientRect().top+window.scrollY-50;window.scrollTo(window.scrollX,S)}const O=A();return W(()=>{location.hostname!=="localhost"&&(O.value={id:`cmd/${p.locale}/${i}`,url:window.location.href.split("#")[0],language:p.locale})}),(w,f)=>{const M=Ee,I=De;return o(k)?(r(),u("div",ft,[h("h1",ht,_(o(i)),1),o(k).desc?(r(),u("div",gt,_(o(k).desc),1)):C("",!0),z(mt,{code:o(L),class:U(["result_cmd_block mt-2 sticky top-0 z-10 left-0",{"invisible pointer-events-none":!o(m)}]),onCopy:n},null,8,["code","class"]),o($)?(r(),u("div",_t,[h("div",yt,_(o(c).tbc),1),h("ol",bt,[(r(!0),u(B,null,j(o(k).usages,(S,E)=>(r(),u("li",vt,[h("a",{class:"text-blue-600 uppercase-first hover:underline",href:"#usage_"+E,onClick:ye(x,["prevent"])},_(S.name||o(c).basic_usage),9,kt)]))),256)),h("li",null,[h("a",$t,_(o(c).examples),1)])])])):C("",!0),h("div",{class:"usage-list mt-4",ref_key:"usageList",ref:y},[(r(!0),u(B,null,j(o(k).usages,(S,E)=>(r(),J(lt,{key:E,cmd:o(k),usage:S,id:"usage_"+E,active:E===o(V),onMouseenter:te=>R(S,E),onChange:te=>D(te,E),onCopy:n},null,8,["cmd","usage","id","active","onMouseenter","onChange"]))),128))],512),o(k).content?(r(),u("div",{key:2,class:"content mt-4 prose prose-zinc max-w-4xl",innerHTML:o(k).content,id:"cmd_content"},null,8,wt)):C("",!0),o(O)?(r(),u("div",xt,[z(M,{id:o(O).id,url:o(O).url,language:o(O).language},null,8,["id","url","language"])])):C("",!0),z(I,{ref_key:"snackbar",ref:Q},{default:Z(()=>[ee(_(o(c).copied_tips),1)]),_:1},512)])):C("",!0)}}});export{Dt as _};
